{"version":3,"file":"formatter-registry.js","sourceRoot":"","sources":["../../../src/shared/impar/formatter-registry.ts"],"names":[],"mappings":"AASA,MAAM,QAAQ,GAAG,IAAI,GAAG,EAAuB,CAAC;AAEhD,MAAM,UAAU,iBAAiB,CAAC,GAAW,EAAE,EAAe;IAC5D,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC;AACtC,CAAC;AAED,MAAM,UAAU,mBAAmB,CAAC,OAAe;IACjD,MAAM,CAAC,GAAG,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC;IACxC,KAAK,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,QAAQ,CAAC,OAAO,EAAE,EAAE,CAAC;QAC3C,IAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC;YAAE,OAAO,EAAE,CAAC;IACjC,CAAC;IACD,OAAO,IAAI,CAAC;AACd,CAAC","sourcesContent":["// SPDX-License-Identifier: MIT\n\nimport type { FormatadorMinimoResult } from './formater.js';\n\nexport type FormatterFn = (\n  code: string,\n  relPath: string,\n) => FormatadorMinimoResult | Promise<FormatadorMinimoResult>;\n\nconst registry = new Map<string, FormatterFn>();\n\nexport function registerFormatter(ext: string, fn: FormatterFn): void {\n  registry.set(ext.toLowerCase(), fn);\n}\n\nexport function getFormatterForPath(relPath: string): FormatterFn | null {\n  const p = (relPath || '').toLowerCase();\n  for (const [ext, fn] of registry.entries()) {\n    if (p.endsWith(ext)) return fn;\n  }\n  return null;\n}\n"]}