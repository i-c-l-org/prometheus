{"version":3,"file":"analista-wrapper.js","sourceRoot":"","sources":["../../../src/shared/helpers/analista-wrapper.ts"],"names":[],"mappings":"AAOA,OAAO,EAAE,4BAA4B,EAAE,MAAM,iBAAiB,CAAC;AAK/D,MAAM,UAAU,kBAAkB,CAAC,QAAkB;IACnD,MAAM,eAAe,GAAG,QAAQ,CAAC,OAAO,CAAC;IACzC,OAAO;QACL,GAAG,QAAQ;QACX,OAAO,EAAE,CAAC,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,WAAW,EAAE,QAAQ,EAAE,EAAE;YAEpD,MAAM,SAAS,GAAG,eAAe,CAAC,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,WAAW,EAAE,QAAQ,CAAC,CAAC;YAG5E,IAAI,SAAS,YAAY,OAAO,EAAE,CAAC;gBACjC,OAAO,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE;oBAClC,MAAM,GAAG,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;oBACzF,OAAO,4BAA4B,CAAC,GAAmB,EAAE,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;gBAC/E,CAAC,CAAC,CAAC;YACL,CAAC;YAGD,MAAM,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;YACjF,OAAO,4BAA4B,CAAC,GAAmB,EAAE,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QAC/E,CAAC;KACF,CAAC;AACJ,CAAC;AAKD,MAAM,UAAU,0BAA0B,CAAC,SAAqB;IAC9D,OAAO,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;AAC3C,CAAC","sourcesContent":["// SPDX-License-Identifier: MIT\n/**\n * Wrapper para analistas que adiciona suporte automático a supressões inline\n */\n\nimport type { Analista, Ocorrencia } from '@';\n\nimport { filtrarOcorrenciasSuprimidas } from './suppressao.js';\n\n/**\n * Envolve um analista para adicionar suporte a supressões inline\n */\nexport function comSupressaoInline(analista: Analista): Analista {\n  const aplicarOriginal = analista.aplicar;\n  return {\n    ...analista,\n    aplicar: (src, relPath, ast, fullCaminho, contexto) => {\n      // Executa o analista original\n      const resultado = aplicarOriginal(src, relPath, ast, fullCaminho, contexto);\n\n      // Se o resultado é uma Promise, aguarda antes de filtrar\n      if (resultado instanceof Promise) {\n        return resultado.then(ocorrencias => {\n          const arr = !ocorrencias ? [] : Array.isArray(ocorrencias) ? ocorrencias : [ocorrencias];\n          return filtrarOcorrenciasSuprimidas(arr as Ocorrencia[], analista.nome, src);\n        });\n      }\n\n      // Filtra ocorrências baseado em supressões inline\n      const arr = !resultado ? [] : Array.isArray(resultado) ? resultado : [resultado];\n      return filtrarOcorrenciasSuprimidas(arr as Ocorrencia[], analista.nome, src);\n    }\n  };\n}\n\n/**\n * Aplica o wrapper de supressão a múltiplos analistas\n */\nexport function aplicarSupressaoAAnalistas(analistas: Analista[]): Analista[] {\n  return analistas.map(comSupressaoInline);\n}"]}