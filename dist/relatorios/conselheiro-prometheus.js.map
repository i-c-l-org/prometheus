{"version":3,"file":"conselheiro-prometheus.js","sourceRoot":"","sources":["../../src/relatorios/conselheiro-prometheus.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,cAAc,EAAE,MAAM,yBAAyB,CAAC;AAOzD,MAAM,UAAU,wBAAwB,CACtC,QAAoC;IAEpC,MAAM,EACJ,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC,QAAQ,EAAE,EAC5B,oBAAoB,GAAG,CAAC,EACxB,iBAAiB,GAAG,CAAC,GACtB,GAAG,QAAQ,CAAC;IAEb,MAAM,SAAS,GAAG,IAAI,IAAI,EAAE,IAAI,IAAI,GAAG,CAAC,CAAC;IACzC,MAAM,cAAc,GAAG,oBAAoB,GAAG,GAAG,IAAI,iBAAiB,GAAG,GAAG,CAAC;IAE7E,IAAI,CAAC,SAAS,IAAI,CAAC,cAAc;QAAE,OAAO;IAG1C,cAAc,CAAC,OAAO,EAAE,CAAC;IACzB,IAAI,SAAS,EAAE,CAAC;QAEd,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC;QAC1D,cAAc,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;IACpC,CAAC;IACD,IAAI,cAAc,EAAE,CAAC;QAEnB,cAAc,CAAC,UAAU,EAAE,CAAC;IAC9B,CAAC;IACD,cAAc,CAAC,OAAO,EAAE,CAAC;AAC3B,CAAC","sourcesContent":["// SPDX-License-Identifier: MIT\nimport { logConselheiro } from '@core/messages/index.js';\n\nimport type { ConselhoContextoPrometheus } from '@';\n\n// Re-exporta para compatibilidade com nome original\nexport type ConselhoContexto = ConselhoContextoPrometheus;\n\nexport function emitirConselhoPrometheus(\n  estresse: ConselhoContextoPrometheus,\n): void {\n  const {\n    hora = new Date().getHours(),\n    arquivosParaCorrigir = 0,\n    arquivosParaPodar = 0,\n  } = estresse;\n\n  const madrugada = hora >= 23 || hora < 4;\n  const muitosArquivos = arquivosParaCorrigir > 200 || arquivosParaPodar > 200;\n\n  if (!madrugada && !muitosArquivos) return;\n\n  // Primeira linha com frase-chave esperada pelos testes\n  logConselheiro.respira();\n  if (madrugada) {\n    // Mensagem deve conter a expressão \"passa das 2h\" para testes\n    const horaRef = hora >= 2 && hora < 3 ? '2h' : `${hora}h`;\n    logConselheiro.madrugada(horaRef);\n  }\n  if (muitosArquivos) {\n    // Deve conter \"volume de tarefas\" (minúsculas) para os testes\n    logConselheiro.volumeAlto();\n  }\n  logConselheiro.cuidado();\n}\n"]}