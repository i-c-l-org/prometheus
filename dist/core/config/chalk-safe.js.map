{"version":3,"file":"chalk-safe.js","sourceRoot":"","sources":["../../../src/core/config/chalk-safe.ts"],"names":[],"mappings":"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","sourcesContent":["// SPDX-License-Identifier: MIT\n// Wrapper para uso seguro de chalk em ESM/CJS e ambientes de bundling/SSR\n// Objetivos:\n// - Fornecer API estável com funções obrigatórias (não opcionais) para evitar 'possibly undefined'.\n// - Suportar encadeamento básico usado no projeto (ex.: chalk.cyan.bold(...)).\n// - Em ambientes sem chalk, aplicar fallback de identidade (retorna a string sem cor/estilo).\n\nimport chalkDefault, * as chalkNs from 'chalk';\n\nimport type { ChalkLike, StyleFn, StyleName } from '@';\n\nconst ID = (s: string) => String(s);\n\nfunction getSourceFns(\n  x: unknown,\n): Partial<Record<StyleName, (s: string) => string>> {\n  if (!x) return {};\n  const src = x as Record<string, unknown>;\n  const pick = (k: StyleName): ((s: string) => string) | undefined => {\n    const v = src[k as string];\n    return typeof v === 'function' ? (v as (s: string) => string) : undefined;\n  };\n  return {\n    cyan: pick('cyan'),\n    green: pick('green'),\n    red: pick('red'),\n    yellow: pick('yellow'),\n    magenta: pick('magenta'),\n    bold: pick('bold'),\n    gray: pick('gray'),\n    dim: pick('dim'),\n  };\n}\n\nfunction makeChalkLike(\n  src: Partial<Record<StyleName, (s: string) => string>>,\n): ChalkLike {\n  const base = {\n    cyan: src.cyan ?? ID,\n    green: src.green ?? ID,\n    red: src.red ?? ID,\n    yellow: src.yellow ?? ID,\n    magenta: src.magenta ?? ID,\n    bold: src.bold ?? ID,\n    gray: src.gray ?? ID,\n    dim: src.dim ?? ID,\n  } as const;\n\n  const attachBoldChain = (colorFn: (s: string) => string): StyleFn => {\n    const fn = ((s: string) => colorFn(String(s))) as StyleFn;\n    // suporte a encadeamento como chalk.cyan.bold(...)\n    fn.bold = ((s: string) => colorFn(base.bold(String(s)))) as StyleFn;\n    return fn;\n  };\n\n  const cyan = attachBoldChain(base.cyan);\n  const green = attachBoldChain(base.green);\n  const red = attachBoldChain(base.red);\n  const yellow = attachBoldChain(base.yellow);\n  const magenta = attachBoldChain(base.magenta);\n  const gray = attachBoldChain(base.gray);\n  const dim = ((s: string) => base.dim(String(s))) as StyleFn; // dim sem encadeamento usado\n\n  // bold em si (sem necessidade de cor encadeada no projeto)\n  const bold = ((s: string) => base.bold(String(s))) as StyleFn;\n  // Opcional: permitir bold.cyan(...), caso apareça futuramente\n  bold.cyan = ((s: string) => base.cyan(base.bold(String(s)))) as StyleFn;\n  bold.green = ((s: string) => base.green(base.bold(String(s)))) as StyleFn;\n  bold.red = ((s: string) => base.red(base.bold(String(s)))) as StyleFn;\n  bold.yellow = ((s: string) => base.yellow(base.bold(String(s)))) as StyleFn;\n  bold.magenta = ((s: string) => base.magenta(base.bold(String(s)))) as StyleFn;\n  bold.gray = ((s: string) => base.gray(base.bold(String(s)))) as StyleFn;\n  bold.dim = ((s: string) => base.dim(base.bold(String(s)))) as StyleFn;\n\n  return { cyan, green, red, yellow, magenta, bold, gray, dim };\n}\n\n// Preferimos a instância default; se não existir, usamos o namespace (CJS)\nconst resolvedUnknown: unknown =\n  (chalkDefault as unknown) ??\n  (chalkNs as unknown as { default?: unknown }).default ??\n  chalkNs;\n\n/**\n * Instância segura de chalk com API estável e suporte a encadeamento.\n * Em ambientes sem chalk nativo, fornece fallback de identidade (sem cores).\n */\nexport const chalk: ChalkLike = makeChalkLike(getSourceFns(resolvedUnknown));\nexport default chalk;\n"]}