{"version":3,"file":"auto-fix-config.js","sourceRoot":"","sources":["../../../../src/core/config/auto/auto-fix-config.ts"],"names":[],"mappings":"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","sourcesContent":["// SPDX-License-Identifier: MIT-0\n\n// SPDX-License-Identifier: MIT-0\n// Merged auto-fix configuration: keep compatibility with both older\n// AUTO_FIX_CONFIG_DEFAULTS and the newer DEFAULT_AUTO_FIX_CONFIG surface.\n\nimport type { AutoFixConfig } from '@';\n\n// Re-exporta o tipo para compatibilidade\nexport type { AutoFixConfig };\nexport const PADRAO_AUTO_CORRECAO_CONFIGURACAO: AutoFixConfig = {\n  mode: 'balanced',\n  minConfidence: 75,\n  allowedCategories: ['security', 'performance', 'style', 'documentation'],\n  excludePadroes: ['**/node_modules/**', '**/dist/**', '**/build/**', '**/coverage/**', '**/*.min.js', '**/src/nucleo/configuracao/**', '**/src/shared/persistence/**', '**/operario-estrutura.ts', '**/corretor-estrutura.ts', '**/mapa-reversao.ts', '**/quick-fix-registry.ts', '**/config.ts', '**/executor.ts'],\n  excludeFunctionPatterns: ['planejar', 'aplicar', 'corrigir', 'executar', 'processar', 'salvar.*Estado', 'ler.*Estado', 'gerarPlano.*', 'detectar.*', 'analisar.*', 'validar.*'],\n  maxFixesPerArquivo: 5,\n  createBackup: true,\n  validateAfterFix: true,\n  // backwards compat defaults\n  allowMutateFs: false,\n  backupSuffix: '.local.bak',\n  conservative: true\n};\nexport const CONSERVADORA_AUTO_CORRECAO_CONFIGURACAO: AutoFixConfig = {\n  ...PADRAO_AUTO_CORRECAO_CONFIGURACAO,\n  mode: 'conservative',\n  minConfidence: 90,\n  allowedCategories: ['security', 'performance'],\n  maxFixesPerArquivo: 2,\n  excludePadroes: [...(PADRAO_AUTO_CORRECAO_CONFIGURACAO.excludePadroes as string[] || []), '**/src/analistas/**', '**/src/arquitetos/**', '**/src/zeladores/**', '**/src/guardian/**', '**/src/cli/**']\n};\nexport const AGRESSIVA_AUTO_CORRECAO_CONFIGURACAO: AutoFixConfig = {\n  ...PADRAO_AUTO_CORRECAO_CONFIGURACAO,\n  mode: 'aggressive',\n  minConfidence: 60,\n  maxFixesPerArquivo: 10,\n  excludePadroes: ['**/node_modules/**', '**/dist/**', '**/build/**', '**/coverage/**', '**/*.min.js']\n};\n\n// Backwards compat constant name used elsewhere in the codebase\nexport const AUTO_CORRECAO_CONFIGURACAO_PADROES = PADRAO_AUTO_CORRECAO_CONFIGURACAO;\nexport default AUTO_CORRECAO_CONFIGURACAO_PADROES;\nexport function shouldExcludeFile(fileCaminho: string, config: AutoFixConfig): boolean {\n  if (!config || !config.excludePadroes) return false;\n  return config.excludePadroes.some(pattern => {\n    const regexPadrao = pattern.replace(/\\*\\*/g, '.*').replace(/\\*/g, '[^/]*').replace(/\\?/g, '.');\n    return new RegExp(regexPadrao).test(fileCaminho);\n  });\n}\nexport function shouldExcludeFunction(functionName: string, config: AutoFixConfig): boolean {\n  if (!config || !config.excludeFunctionPatterns) return false;\n  return config.excludeFunctionPatterns.some(pattern => new RegExp(pattern, 'i').test(functionName));\n}\nexport function isCategoryAllowed(category: string, config: AutoFixConfig): boolean {\n  if (!config || !config.allowedCategories) return true;\n  // allowedCategories is an array of known category strings - coerce to string[] for safe includes check\n  return (config.allowedCategories as string[]).includes(category);\n}\nexport function hasMinimumConfidence(confidence: number, config: AutoFixConfig): boolean {\n  if (typeof config?.minConfidence !== 'number') return true;\n  return confidence >= (config.minConfidence as number);\n}\nexport function getAutoFixConfig(mode?: string): AutoFixConfig {\n  switch (mode) {\n    case 'conservative':\n      return CONSERVADORA_AUTO_CORRECAO_CONFIGURACAO;\n    case 'aggressive':\n      return AGRESSIVA_AUTO_CORRECAO_CONFIGURACAO;\n    case 'balanced':\n    default:\n      return PADRAO_AUTO_CORRECAO_CONFIGURACAO;\n  }\n}"]}