{"version":3,"file":"traverse.js","sourceRoot":"","sources":["../../../src/core/config/traverse.ts"],"names":[],"mappings":"AACA,OAAO,cAAc,MAAM,iBAAiB,CAAC;AAQ7C,IAAI,eAAe,GAAY,cAAc,CAAC;AAI9C,MAAM,UAAU,mBAAmB,CAAC,MAAe;IACjD,eAAe,GAAG,MAAM,CAAC;AAC3B,CAAC;AAED,MAAM,UAAU,QAAQ,CAAC,GAAG,IAAe;IACzC,MAAM,GAAG,GAAG,eAA0B,CAAC;IACvC,IAAI,EAA0B,CAAC;IAC/B,IAAI,OAAO,GAAG,KAAK,UAAU,EAAE,CAAC;QAC9B,EAAE,GAAG,GAAiB,CAAC;IACzB,CAAC;SAAM,IACL,GAAG;QACH,OAAQ,GAA6B,CAAC,OAAO,KAAK,UAAU,EAC5D,CAAC;QACD,EAAE,GAAI,GAA4B,CAAC,OAAqB,CAAC;IAC3D,CAAC;SAAM,IACL,GAAG;QACH,OAAQ,GAA8B,CAAC,QAAQ,KAAK,UAAU,EAC9D,CAAC;QACD,EAAE,GAAI,GAA6B,CAAC,QAAsB,CAAC;IAC7D,CAAC;IACD,IAAI,CAAC,EAAE,EAAE,CAAC;QACR,MAAM,IAAI,SAAS,CACjB,oEAAoE,CACrE,CAAC;IACJ,CAAC;IACD,OAAO,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC;AACrB,CAAC","sourcesContent":["// SPDX-License-Identifier: MIT-0\nimport traverseModule from '@babel/traverse';\n\n/**\n * Wrapper resiliente para o `@babel/traverse` lidando com variações de ESM/CJS.\n * Algumas builds expõem a função no `default`, outras como export do módulo CJS.\n */\ntype TraverseFn = (...a: unknown[]) => unknown;\n\nlet _traverseModule: unknown = traverseModule;\n\n// Setter usado apenas em testes para injetar variações do módulo\n\nexport function __setTraverseModule(modulo: unknown): void {\n  _traverseModule = modulo;\n}\n\nexport function traverse(...args: unknown[]): unknown {\n  const mod = _traverseModule as unknown;\n  let fn: TraverseFn | undefined;\n  if (typeof mod === 'function') {\n    fn = mod as TraverseFn;\n  } else if (\n    mod &&\n    typeof (mod as { default?: unknown }).default === 'function'\n  ) {\n    fn = (mod as { default: unknown }).default as TraverseFn;\n  } else if (\n    mod &&\n    typeof (mod as { traverse?: unknown }).traverse === 'function'\n  ) {\n    fn = (mod as { traverse: unknown }).traverse as TraverseFn;\n  }\n  if (!fn) {\n    throw new TypeError(\n      'Babel traverse não é uma função — verifique a resolução de módulo.',\n    );\n  }\n  return fn(...args);\n}\n"]}