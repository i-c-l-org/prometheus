{"version":3,"file":"detectores.js","sourceRoot":"","sources":["../../../src/types/analistas/detectores.ts"],"names":[],"mappings":"AAyLA,OAAO,EAAE,CAAC","sourcesContent":["// SPDX-License-Identifier: MIT-0\n\n// Tipos permissivos para detectores — preferimos segurança de compilação agora\n// e refinaremos os tipos por detector no futuro.\n\nexport type TipoFragilidade = string;\n\nexport interface Fragilidade {\n  tipo: TipoFragilidade;\n  linha: number;\n  coluna: number;\n  descricao?: string;\n  sugestao?: string;\n  severidade?: 'baixa' | 'media' | 'alta' | 'critica';\n  contexto?: string;\n  nome?: string;\n}\n\nexport interface ConstrucaoSintatica {\n  tipo: string;\n  linha: number;\n  coluna: number;\n  codigo?: string;\n  nome?: string;\n  contexto?: string;\n}\n\nexport interface EstatisticasArquivo {\n  imports: number | ImportInfo[];\n  exports: number | ExportInfo[];\n  sloc?: number;\n  funcoes?: number;\n  classes?: number;\n  caminho?: string;\n  aliases?: Record<string, number>;\n  dependenciasInternas?: string[];\n  dependenciasExternas?: string[];\n  complexidade?: number;\n}\n\nexport interface ImportInfo {\n  origem?: string;\n  tipo?: 'external' | 'alias' | 'relative';\n  items?: string[];\n  isType?: boolean;\n}\n\nexport interface ExportInfo {\n  nome?: string;\n  tipo?: 'named' | 'default' | 'reexport';\n}\n\nexport interface AnaliseArquitetural {\n  imports: ImportInfo[] | string[];\n  exports: ExportInfo[] | string[];\n  stats: EstatisticasArquivo;\n  padraoIdentificado?: string;\n  confianca?: number;\n  caracteristicas?: string[];\n  violacoes?: string[];\n  recomendacoes?: string[];\n  metricas?:\n    | Record<string, number>\n    | {\n        modularidade?: number;\n        acoplamento?: number;\n        coesao?: number;\n        complexidadeMedia?: number;\n      };\n}\n\nexport interface BlocoFuncao {\n  nome?: string;\n  inicio?: number;\n  fim?: number;\n  conteudo?: string;\n  codigo?: string;\n  hash?: string;\n  caminho?: string;\n  parametros?: string[];\n  tipoFuncao?: string;\n}\n\nexport interface DuplicacaoEncontrada {\n  arquivo1?: string;\n  arquivo2?: string;\n  bloco1?: BlocoFuncao;\n  bloco2?: BlocoFuncao;\n  funcaoA?: BlocoFuncao;\n  funcaoB?: BlocoFuncao;\n  similaridade: number;\n  tipoSimilaridade?: string;\n}\n\nexport interface ProblemaDocumentacao {\n  tipo: string;\n  linha: number;\n  coluna: number;\n  contexto?: string;\n  prioridade?: 'baixa' | 'media' | 'alta';\n  descricao?: string;\n  sugestao?: string;\n}\n\nexport interface ProblemaPerformance {\n  tipo: string;\n  linha: number;\n  coluna: number;\n  descricao?: string;\n  impacto?: 'baixo' | 'medio' | 'alto';\n  sugestao?: string;\n}\n\nexport interface ProblemaFormatacao {\n  tipo: string;\n  linha?: number;\n  coluna?: number;\n  mensagem?: string;\n}\n\nexport type ProblemaQualidade =\n  | Fragilidade\n  | ProblemaPerformance\n  | ProblemaDocumentacao\n  | ProblemaFormatacao;\n\n/**\n * Detecção de interface inline\n */\nexport interface InterfaceInlineDetection {\n  tipo: 'interface' | 'type-alias' | 'object-literal-type';\n  nome?: string;\n  linha: number;\n  complexidade: number;\n  contexto: string;\n  sugestao: string;\n}\n\n/**\n * Problema detectado em testes\n */\nexport interface ProblemaTeste {\n  tipo:\n    | 'missing-tests'\n    | 'poor-coverage'\n    | 'flaky-test'\n    | 'slow-test'\n    | 'test-smells'\n    | 'mock-abuse';\n  descricao: string;\n  severidade: 'baixa' | 'media' | 'alta';\n  linha: number;\n  sugestao: string;\n}\n\n/**\n * Problema de segurança detectado\n */\nexport interface ProblemaSeguranca {\n  tipo:\n    | 'eval-usage'\n    | 'dangerous-html'\n    | 'weak-crypto'\n    | 'unsafe-regex'\n    | 'prototype-pollution'\n    | 'path-traversal'\n    | 'hardcoded-secrets'\n    | 'unhandled-async'\n    | 'unhandled-async-event';\n  descricao: string;\n  severidade: 'baixa' | 'media' | 'alta' | 'critica';\n  linha: number;\n  sugestao: string;\n}\n\n/**\n * Resultado de detecção contextual\n */\nexport interface ResultadoContexto {\n  tecnologia?: string;\n  confiancaTotal: number;\n  evidencias?: Array<{ tipo: string; valor: string }>;\n  sugestoesMelhoria?: string[];\n}\n\nexport {};\n"]}