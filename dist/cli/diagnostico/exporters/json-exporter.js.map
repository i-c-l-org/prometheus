{"version":3,"file":"json-exporter.js","sourceRoot":"","sources":["../../../../src/cli/diagnostico/exporters/json-exporter.ts"],"names":[],"mappings":"AASA,OAAO,EAAE,MAAM,SAAS,CAAC;AACzB,OAAO,IAAI,MAAM,WAAW,CAAC;AAgB7B,MAAM,UAAU,kBAAkB,CAAC,KAA6B,EAAE,UAAsC,EAAE;IAExG,MAAM,IAAI,GAAsB;QAC9B,WAAW,EAAE,OAAO,CAAC,WAAW,IAAI,IAAI;QACxC,cAAc,EAAE,OAAO,CAAC,cAAc,IAAI,IAAI;QAC9C,cAAc,EAAE,OAAO,CAAC,cAAc,IAAI,KAAK;QAC/C,OAAO,EAAE,OAAO,CAAC,OAAO,IAAI,KAAK;QACjC,cAAc,EAAE,OAAO,CAAC,cAAc;KACvC,CAAC;IAGF,MAAM,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC;IAG5E,IAAI,WAAW,GAAG,KAAK,CAAC,WAAW,IAAI,EAAE,CAAC;IAC1C,IAAI,IAAI,CAAC,cAAc,IAAI,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;QACpE,WAAW,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;IAC1D,CAAC;IAGD,MAAM,4BAA4B,GAAG,IAAI,GAAG,CAAC;QAC3C,4BAA4B;QAC5B,8BAA8B;KAC/B,CAAC,CAAC;IAEH,MAAM,oBAAoB,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAA0B,EAAE,EAAE;QAE1G,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YAAE,OAAO,KAAK,CAAC;QAEpE,IAAI,CAAC,IAAI,CAAC,cAAc,IAAI,CAAC,CAAC,IAAI,IAAI,4BAA4B,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC;YACvF,OAAO,KAAK,CAAC;QACf,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAA0B,EAAE,EAAE;QAEpC,MAAM,OAAO,GAAG,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,IAAI,EAAE,CAAC;QAC7C,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC,KAAK,KAAK,MAAM,IAAI,CAAC,CAAC,KAAK,KAAK,OAAO,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;QACnG,MAAM,MAAM,GAA4B;YACtC,OAAO,EAAE,MAAM,CAAC,OAAO,CAAC;YACxB,KAAK;YACL,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC,IAAI,IAAI,QAAQ,CAAC;YAChC,QAAQ,EAAE,MAAM,CAAC,CAAC,CAAC,QAAQ,IAAI,EAAE,CAAC;SACnC,CAAC;QACF,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;YACxB,IAAI,CAAC,CAAC,KAAK,KAAK,SAAS;gBAAE,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;YAC1D,IAAI,CAAC,CAAC,MAAM,KAAK,SAAS;gBAAE,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;YAC7D,IAAI,CAAC,CAAC,QAAQ;gBAAE,MAAM,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;QAC/C,CAAC;QACD,OAAO,MAA+B,CAAC;IACzC,CAAC,CAAC,CAAC;IAGH,MAAM,SAAS,GAAkB;QAC/B,QAAQ,EAAE,KAAK,CAAC,QAAQ,IAAI;YAC1B,SAAS,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE;YACnC,aAAa,EAAE,OAAO;YACtB,IAAI,EAAE,MAAM;YACZ,KAAK,EAAE,EAAE;YACT,iBAAiB,EAAE,CAAC,GAAG,EAAE;gBACvB,IAAI,CAAC;oBAGH,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,cAAc,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC;oBAC3F,OAAO,GAAG,CAAC,OAAO,IAAI,SAAS,CAAC;gBAClC,CAAC;gBAAC,MAAM,CAAC;oBACP,OAAO,SAAS,CAAC;gBACnB,CAAC;YACH,CAAC,CAAC,EAAE;YACJ,WAAW,EAAE,CAAC,GAAG,EAAE;gBACjB,IAAI,CAAC;oBACH,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,cAAc,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC;oBAC3F,OAAO,GAAG,CAAC,IAAI,IAAI,SAAS,CAAC;gBAC/B,CAAC;gBAAC,MAAM,CAAC;oBACP,OAAO,SAAS,CAAC;gBACnB,CAAC;YACH,CAAC,CAAC,EAAE;SACL;QACD,KAAK,EAAE,KAAK,CAAC,KAAK,IAAI;YACpB,kBAAkB,EAAE,CAAC;YACrB,oBAAoB,EAAE,CAAC;YACvB,gBAAgB,EAAE,CAAC;YACnB,QAAQ,EAAE;gBACR,IAAI,EAAE,CAAC;gBACP,KAAK,EAAE,CAAC;gBACR,IAAI,EAAE,CAAC;aACR;YACD,YAAY,EAAE,EAAE;SACjB;QACD,WAAW,EAAE,oBAAoD;QACjE,GAAG,CAAC,KAAK,CAAC,QAAQ,IAAI;YACpB,QAAQ,EAAE,KAAK,CAAC,QAAQ;SACzB,CAAC;QACF,GAAG,CAAC,KAAK,CAAC,UAAU,IAAI;YACtB,UAAU,EAAE,KAAK,CAAC,UAAU;SAC7B,CAAC;QACF,GAAG,CAAC,KAAK,CAAC,OAAO,IAAI;YACnB,OAAO,EAAE,KAAK,CAAC,OAAO;SACvB,CAAC;QACF,GAAG,CAAC,KAAK,CAAC,UAAU,IAAI;YACtB,UAAU,EAAE,KAAK,CAAC,UAAU;SAC7B,CAAC;QACF,GAAG,CAAC,KAAK,CAAC,SAAS,IAAI;YACrB,SAAS,EAAE,KAAK,CAAC,SAAS;SAC3B,CAAC;KACH,CAAC;IAKF,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpC,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;IAGnD,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;QACrB,IAAI,GAAG,cAAc,CAAC,IAAI,CAAC,CAAC;IAC9B,CAAC;IACD,OAAO,IAAI,CAAC;AACd,CAAC;AAQD,SAAS,cAAc,CAAC,GAAW;IACjC,IAAI,SAAS,GAAG,EAAE,CAAC;IACnB,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,OAAO,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC;QACtB,MAAM,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAG/B,IAAI,IAAI,GAAG,GAAG,EAAE,CAAC;YACf,SAAS,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC;YACpB,CAAC,EAAE,CAAC;YACJ,SAAS;QACX,CAAC;QAGD,IAAI,IAAI,IAAI,MAAM,IAAI,IAAI,IAAI,MAAM,EAAE,CAAC;YAErC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC;gBACvB,MAAM,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACzC,IAAI,UAAU,IAAI,MAAM,IAAI,UAAU,IAAI,MAAM,EAAE,CAAC;oBAEjD,SAAS,IAAI,MAAM,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC;oBACxD,SAAS,IAAI,MAAM,UAAU,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC;oBAC9D,CAAC,IAAI,CAAC,CAAC;oBACP,SAAS;gBACX,CAAC;YACH,CAAC;QACH,CAAC;QAGD,SAAS,IAAI,MAAM,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC;QACxD,CAAC,EAAE,CAAC;IACN,CAAC;IACD,OAAO,SAAS,CAAC;AACnB,CAAC;AAKD,MAAM,UAAU,WAAW,CAAC,IAAY;IAItC,IAAI,CAAC;QACH,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACjB,OAAO;YACL,MAAM,EAAE,IAAI;SACb,CAAC;IACJ,CAAC;IAAC,OAAO,IAAI,EAAE,CAAC;QACd,MAAM,QAAQ,GAAG,IAAI,YAAY,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACrE,OAAO;YACL,MAAM,EAAE,KAAK;YACb,IAAI,EAAE,QAAQ;SACf,CAAC;IACJ,CAAC;AACH,CAAC;AAOD,MAAM,UAAU,aAAa,CAAC,IAAuC,EAAE,KAAe,EAAE,OAA8C;IACpI,OAAO;QACL,SAAS,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE;QACnC,aAAa,EAAE,OAAO;QACtB,IAAI;QACJ,KAAK;QACL,GAAG,CAAC,OAAO,IAAI;YACb,OAAO;SACR,CAAC;KACH,CAAC;AACJ,CAAC;AAKD,MAAM,UAAU,UAAU,CAAC,WAAyB;IAClD,MAAM,QAAQ,GAAG;QACf,IAAI,EAAE,CAAC;QACP,KAAK,EAAE,CAAC;QACR,IAAI,EAAE,CAAC;KACR,CAAC;IACF,MAAM,YAAY,GAA2B,EAAE,CAAC;IAChD,MAAM,QAAQ,GAA2B,EAAE,CAAC;IAC5C,MAAM,WAAW,GAAG,IAAI,GAAG,EAAU,CAAC;IACtC,KAAK,MAAM,UAAU,IAAI,WAAW,EAAE,CAAC;QAErC,MAAM,KAAK,GAAG,UAAU,CAAC,KAAK,IAAI,MAAM,CAAC;QACzC,IAAI,KAAK,KAAK,MAAM,IAAI,KAAK,KAAK,OAAO,IAAI,KAAK,KAAK,MAAM,EAAE,CAAC;YAC9D,QAAQ,CAAC,KAAK,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACxC,CAAC;QAGD,MAAM,IAAI,GAAG,UAAU,CAAC,IAAI,IAAI,QAAQ,CAAC;QACzC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACnD,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QAG3C,IAAI,UAAU,CAAC,OAAO,EAAE,CAAC;YACvB,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACtC,CAAC;IACH,CAAC;IACD,MAAM,oBAAoB,GAAG,WAAW,CAAC,IAAI,CAAC;IAC9C,OAAO;QACL,kBAAkB,EAAE,WAAW,CAAC,IAAI;QACpC,oBAAoB;QACpB,gBAAgB,EAAE,WAAW,CAAC,MAAM;QACpC,QAAQ;QACR,YAAY;QACZ,MAAM,EAAE,QAAQ;KACjB,CAAC;AACJ,CAAC;AAKD,MAAM,UAAU,eAAe,CAAC,SAAiC;IAC/D,MAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE,CAAC,GAAG,GAAG,KAAK,EAAE,CAAC,CAAC,CAAC;IAC9E,OAAO;QACL,KAAK;QACL,SAAS;KACV,CAAC;AACJ,CAAC","sourcesContent":["// SPDX-License-Identifier: MIT\n// SPDX-FileCopyrightText: 2025 Prometheus Contributors\n\n/**\n * @module cli/diagnostico/exporters/json-exporter\n * @description Exportador JSON com suporte a ASCII escape e fragmentação\n * @see docs/REFACTOR-CLI-DIAGNOSTICAR.md - Sprint 2\n */\n\nimport fs from 'node:fs';\nimport path from 'node:path';\n\nimport type { JsonExportOptions, Ocorrencia, RelatorioJson } from '@';\n\n// Re-export para compatibilidade\nexport type { JsonExportOptions, RelatorioJson };\n\n  /* -------------------------- Função Principal -------------------------- */\n\n/**\n * Gera relatório JSON a partir dos dados do diagnóstico\n *\n * @param dados - Dados do diagnóstico\n * @param options - Opções de exportação\n * @returns String JSON formatada\n */\nexport function gerarRelatorioJson(dados: Partial<RelatorioJson>, options: Partial<JsonExportOptions> = {}): string {\n  // Normalizar options\n  const opts: JsonExportOptions = {\n    escapeAscii: options.escapeAscii ?? true,\n    includeDetails: options.includeDetails ?? true,\n    includeContext: options.includeContext ?? false,\n    compact: options.compact ?? false,\n    maxOcorrencias: options.maxOcorrencias\n  };\n\n  // Lista configurável de tipos a omitir\n  const omitTypes = Array.isArray(options.omitTypes) ? options.omitTypes : [];\n\n  // Processar ocorrências\n  let ocorrencias = dados.ocorrencias || [];\n  if (opts.maxOcorrencias && ocorrencias.length > opts.maxOcorrencias) {\n    ocorrencias = ocorrencias.slice(0, opts.maxOcorrencias);\n  }\n\n  // Filtrar/normalizar ocorrências para relatório resumido\n  const IGNORE_TIPOS_WHEN_NO_CONTEXT = new Set([\n    'interface-inline-exportada',\n    'tipo-literal-inline-complexo'\n  ]);\n\n  const processedOcorrencias = (opts.includeDetails ? ocorrencias : []).filter((o: Record<string, unknown>) => {\n    // omitir tipos configurados explicitamente\n    if (o && o.tipo && omitTypes.includes(String(o.tipo))) return false;\n    // se não incluir contexto, removemos certos tipos ruidosos\n    if (!opts.includeContext && o.tipo && IGNORE_TIPOS_WHEN_NO_CONTEXT.has(String(o.tipo))) {\n      return false;\n    }\n    return true;\n  }).map((o: Record<string, unknown>) => {\n    // Montar forma reduzida de ocorrência adequada para relatório\n    const arquivo = o.relPath || o.arquivo || '';\n    const nivel = (o.nivel === 'erro' || o.nivel === 'aviso' || o.nivel === 'info') ? o.nivel : 'info';\n    const mapped: Record<string, unknown> = {\n      arquivo: String(arquivo),\n      nivel,\n      tipo: String(o.tipo || 'outros'),\n      mensagem: String(o.mensagem || ''),\n    };\n    if (opts.includeContext) {\n      if (o.linha !== undefined) mapped.linha = Number(o.linha);\n      if (o.coluna !== undefined) mapped.coluna = Number(o.coluna);\n      if (o.contexto) mapped.contexto = o.contexto;\n    }\n    return mapped as unknown as Ocorrencia;\n  });\n\n  // Construir relatório\n  const relatorio: RelatorioJson = {\n    metadata: dados.metadata || {\n      timestamp: new Date().toISOString(),\n      schemaVersion: '1.0.0',\n      modo: 'full',\n      flags: [],\n      prometheusVersion: (() => {\n        try {\n          // Evita dependência direta de package.json fora do build\n          // Em runtime, pode ser enriquecido pela CLI\n          const pkg = JSON.parse(fs.readFileSync(path.join(process.cwd(), 'package.json'), 'utf-8'));\n          return pkg.version || 'unknown';\n        } catch {\n          return 'unknown';\n        }\n      })(),\n      projectNome: (() => {\n        try {\n          const pkg = JSON.parse(fs.readFileSync(path.join(process.cwd(), 'package.json'), 'utf-8'));\n          return pkg.name || 'unknown';\n        } catch {\n          return 'unknown';\n        }\n      })()\n    },\n    stats: dados.stats || {\n      arquivosAnalisados: 0,\n      arquivosComProblemas: 0,\n      totalOcorrencias: 0,\n      porNivel: {\n        erro: 0,\n        aviso: 0,\n        info: 0\n      },\n      porCategoria: {}\n    },\n    ocorrencias: processedOcorrencias as RelatorioJson['ocorrencias'],\n    ...(dados.guardian && {\n      guardian: dados.guardian\n    }),\n    ...(dados.arquetipos && {\n      arquetipos: dados.arquetipos\n    }),\n    ...(dados.autoFix && {\n      autoFix: dados.autoFix\n    }),\n    ...(dados.linguagens && {\n      linguagens: dados.linguagens\n    }),\n    ...(dados.sugestoes && {\n      sugestoes: dados.sugestoes\n    })\n  };\n\n  // Não adicionar propriedades extras ao schema do relatório (manter compatibilidade com `RelatorioJson`)\n\n  // Serializar para JSON\n  const indent = opts.compact ? 0 : 2;\n  let json = JSON.stringify(relatorio, null, indent);\n\n  // Aplicar escape ASCII se solicitado\n  if (opts.escapeAscii) {\n    json = escapeNonAscii(json);\n  }\n  return json;\n}\n\n  /* -------------------------- Helpers de Escape -------------------------- */\n\n/**\n * Escapa caracteres não-ASCII como \\uXXXX\n * Trata pares substitutos para emojis e caracteres fora do BMP\n */\nfunction escapeNonAscii(str: string): string {\n  let resultado = '';\n  let i = 0;\n  while (i < str.length) {\n    const code = str.charCodeAt(i);\n\n    // ASCII básico (0-127) - manter como está\n    if (code < 128) {\n      resultado += str[i];\n      i++;\n      continue;\n    }\n\n    // High surrogate (início de par substituto)\n    if (code >= 0xd800 && code <= 0xdbff) {\n      // Verificar se há low surrogate seguinte\n      if (i + 1 < str.length) {\n        const nextCodigo = str.charCodeAt(i + 1);\n        if (nextCodigo >= 0xdc00 && nextCodigo <= 0xdfff) {\n          // Par substituto válido - escapar ambos\n          resultado += `\\\\u${code.toString(16).padStart(4, '0')}`;\n          resultado += `\\\\u${nextCodigo.toString(16).padStart(4, '0')}`;\n          i += 2;\n          continue;\n        }\n      }\n    }\n\n    // Caractere BMP não-ASCII ou surrogate isolado\n    resultado += `\\\\u${code.toString(16).padStart(4, '0')}`;\n    i++;\n  }\n  return resultado;\n}\n\n/**\n * Valida se uma string JSON está bem formada\n */\nexport function validarJson(json: string): {\n  valido: boolean;\n  erro?: string;\n} {\n  try {\n    JSON.parse(json);\n    return {\n      valido: true\n    };\n  } catch (erro) {\n    const mensagem = erro instanceof Error ? erro.message : String(erro);\n    return {\n      valido: false,\n      erro: mensagem\n    };\n  }\n}\n\n  /* -------------------------- Helpers de Construção -------------------------- */\n\n/**\n * Cria objeto de metadata para o relatório\n */\nexport function criarMetadata(modo: RelatorioJson['metadata']['modo'], flags: string[], filtros?: RelatorioJson['metadata']['filtros']): RelatorioJson['metadata'] {\n  return {\n    timestamp: new Date().toISOString(),\n    schemaVersion: '1.0.0',\n    modo,\n    flags,\n    ...(filtros && {\n      filtros\n    })\n  };\n}\n\n/**\n * Cria objeto de stats a partir de ocorrências\n */\nexport function criarStats(ocorrencias: Ocorrencia[]): RelatorioJson['stats'] {\n  const porNivel = {\n    erro: 0,\n    aviso: 0,\n    info: 0\n  };\n  const porCategoria: Record<string, number> = {};\n  const porRegra: Record<string, number> = {};\n  const arquivosSet = new Set<string>();\n  for (const ocorrencia of ocorrencias) {\n    // Contar por nível (type-safe)\n    const nivel = ocorrencia.nivel || 'info';\n    if (nivel === 'erro' || nivel === 'aviso' || nivel === 'info') {\n      porNivel[nivel] = porNivel[nivel] + 1;\n    }\n\n    // Contar por categoria/tipo\n    const tipo = ocorrencia.tipo || 'outros';\n    porCategoria[tipo] = (porCategoria[tipo] || 0) + 1;\n    porRegra[tipo] = (porRegra[tipo] || 0) + 1;\n\n    // Rastrear arquivos únicos\n    if (ocorrencia.relPath) {\n      arquivosSet.add(ocorrencia.relPath);\n    }\n  }\n  const arquivosComProblemas = arquivosSet.size;\n  return {\n    arquivosAnalisados: arquivosSet.size,\n    arquivosComProblemas,\n    totalOcorrencias: ocorrencias.length,\n    porNivel,\n    porCategoria,\n    byRule: porRegra\n  };\n}\n\n/**\n * Cria objeto de linguagens a partir de extensões\n */\nexport function criarLinguagens(extensoes: Record<string, number>): RelatorioJson['linguagens'] {\n  const total = Object.values(extensoes).reduce((sum, count) => sum + count, 0);\n  return {\n    total,\n    extensoes\n  };\n}\n"]}