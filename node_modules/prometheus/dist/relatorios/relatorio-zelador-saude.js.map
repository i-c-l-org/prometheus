{"version":3,"file":"relatorio-zelador-saude.js","sourceRoot":"","sources":["../../src/relatorios/relatorio-zelador-saude.ts"],"names":[],"mappings":"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","sourcesContent":["// SPDX-License-Identifier: MIT\nimport { estatisticasUsoGlobal } from '@analistas/js-ts/analista-padroes-uso.js';\nimport chalk from '@core/config/chalk-safe.js';\nimport { config } from '@core/config/config.js';\nimport { log, logRelatorio, RelatorioMensagens } from '@core/messages/index.js';\n\nimport type { LogComBloco, Ocorrencia } from '@';\n\n/**\n * Emite um relat√≥rio sobre a sa√∫de do c√≥digo com base nas estat√≠sticas gerais.\n */\n\nexport function exibirRelatorioZeladorSaude(ocorrencias: Ocorrencia[]): void {\n  // Usa o helper centralizado de molduras, com largura fixa para manter bordas alinhadas\n  const constsMap = estatisticasUsoGlobal.consts as Record<string, number> | undefined;\n  const requiresMap = estatisticasUsoGlobal.requires as Record<string, number> | undefined;\n  const constExcessivas = Object.entries(constsMap || {}).filter(([, n]) => n > 3);\n  const requireRepetidos = Object.entries(requiresMap || {}).filter(([, n]) => n > 3);\n\n  // Cabe√ßalho usando mensagens centralizadas\n  log.info(`\\n${RelatorioMensagens.saude.titulo}:\\n`);\n\n  // Moldura do cabe√ßalho (somente em runtime humano)\n  if (!process.env.VITEST) {\n    const tituloCab = RelatorioMensagens.saude.titulo.replace('üßº ', ''); // Remove emoji para moldura\n    const linhasCab: string[] = [];\n    const logComBloco = log as LogComBloco;\n    const larguraCab = logComBloco.calcularLargura ? logComBloco.calcularLargura(tituloCab, linhasCab, config.COMPACT_MODE ? 84 : 96) : undefined;\n    logComBloco.imprimirBloco(tituloCab, linhasCab, chalk.cyan.bold, typeof larguraCab === 'number' ? larguraCab : config.COMPACT_MODE ? 84 : 96);\n  }\n  if (ocorrencias.length > 0) {\n    // Usa mensagem centralizada para aviso\n    const logAviso = (log as unknown as {\n      aviso?: (m: string) => void;\n      info: (m: string) => void;\n    }).aviso;\n    if (typeof logAviso === 'function') logAviso('‚ö†Ô∏è Fun√ß√µes longas encontradas:');else logRelatorio.funcoesLongas();\n    // Agrega por arquivo\n    const porArquivo = new Map<string, number>();\n    for (const o of ocorrencias) {\n      const key = o.relPath || o.arquivo || '[desconhecido]';\n      porArquivo.set(key, (porArquivo.get(key) || 0) + 1);\n    }\n    const totalOcorrencias = ocorrencias.length;\n    const arquivosAfetados = porArquivo.size;\n    const maiorPorArquivo = Math.max(...Array.from(porArquivo.values()));\n    const mostrarTabela = config.RELATORIO_SAUDE_TABELA_ENABLED && !config.VERBOSE;\n    type LogComBloco = {\n      imprimirBloco?: (t: string, l: string[], c?: (s: string) => string, w?: number) => void;\n    };\n    const temImprimirBloco = typeof (log as unknown as LogComBloco).imprimirBloco === 'function';\n    if (mostrarTabela && temImprimirBloco) {\n      // Tabela compacta com moldura, sem caminhos\n      const header1 = 'arquivos';\n      const header2 = 'quantidade';\n      const linhas: string[] = [];\n      const col1Width = Math.max(header1.length, 'com fun√ß√£o longa'.length, 'fun√ß√µes longas (total)'.length, 'maior por arquivo'.length);\n      const col2Width = Math.max(header2.length, String(totalOcorrencias).length, String(arquivosAfetados).length, String(maiorPorArquivo).length);\n      const pinta = (n: number) => chalk.yellow(String(n).padStart(col2Width));\n      linhas.push(`${header1.padEnd(col1Width)}  ${header2.padStart(col2Width)}`, `${'-'.repeat(col1Width)}  ${'-'.repeat(col2Width)}`, `${'com fun√ß√£o longa'.padEnd(col1Width)}  ${pinta(arquivosAfetados)}`, `${'fun√ß√µes longas (total)'.padEnd(col1Width)}  ${pinta(totalOcorrencias)}`, `${'maior por arquivo'.padEnd(col1Width)}  ${pinta(maiorPorArquivo)}`, ''.padEnd(col1Width + col2Width + 2, ' '), `${'RESUMIDO'.padStart(Math.floor(col1Width / 2) + 4).padEnd(col1Width + col2Width + 2)}`);\n      (log as unknown as {\n        imprimirBloco: (t: string, l: string[], c?: (s: string) => string, w?: number) => void;\n      }).imprimirBloco('fun√ß√µes longas:', linhas, chalk.cyan.bold, (log as unknown as {\n        calcularLargura?: Function;\n      }).calcularLargura ? (log as unknown as {\n        calcularLargura: Function;\n      }).calcularLargura('fun√ß√µes longas:', linhas, config.COMPACT_MODE ? 84 : 96) : 84);\n      // Dicas usando mensagens centralizadas\n      log.info(RelatorioMensagens.saude.instrucoes.diagnosticoDetalhado);\n      log.info(RelatorioMensagens.saude.instrucoes.tabelasVerbosas);\n      log.info('');\n    } else if (mostrarTabela) {\n      // Fallback tabular simplificado\n      const header1 = 'arquivos';\n      const header2 = 'quantidade';\n      const col1Width = Math.max(header1.length, 'com fun√ß√£o longa'.length, 'fun√ß√µes longas (total)'.length, 'maior por arquivo'.length);\n      const col2Width = Math.max(header2.length, String(totalOcorrencias).length, String(arquivosAfetados).length, String(maiorPorArquivo).length);\n      log.info(`${header1.padEnd(col1Width)}  ${header2.padStart(col2Width)}`);\n      log.info(`${'-'.repeat(col1Width)}  ${'-'.repeat(col2Width)}`);\n      log.info(`${'com fun√ß√£o longa'.padEnd(col1Width)}  ${chalk.yellow(String(arquivosAfetados).padStart(col2Width))}`);\n      log.info(`${'fun√ß√µes longas (total)'.padEnd(col1Width)}  ${chalk.yellow(String(totalOcorrencias).padStart(col2Width))}`);\n      log.info(`${'maior por arquivo'.padEnd(col1Width)}  ${chalk.yellow(String(maiorPorArquivo).padStart(col2Width))}`);\n      log.info('');\n      // Dicas (mant√©m compatibilidade com testes que s√≥ checam mensagens principais)\n      log.info(RelatorioMensagens.saude.instrucoes.diagnosticoDetalhado);\n      log.info(RelatorioMensagens.saude.instrucoes.tabelasVerbosas);\n      log.info('');\n    } else {\n      // Modo verbose: lista detalhada usando t√≠tulo centralizado\n      const logInfoRaw = ((log as unknown as {\n        infoSemSanitizar?: (m: string) => void;\n        info: (m: string) => void;\n      }).infoSemSanitizar || log.info).bind(log);\n      const titulo = chalk.bold(RelatorioMensagens.saude.secoes.funcoesLongas.titulo);\n      log.info(titulo);\n      const colLeft = 50;\n      const linhasDetalhe: string[] = [];\n      const ordenar = Array.from(porArquivo.entries()).sort((a, b) => b[1] - a[1]);\n      for (const [arquivo, qtd] of ordenar) {\n        // Normaliza caminho e alinha\n        const left = arquivo.length > colLeft ? `‚Ä¶${arquivo.slice(-colLeft + 1)}` : arquivo;\n        const numero = chalk.yellow(String(qtd).padStart(3));\n        linhasDetalhe.push(`${left.padEnd(colLeft)}  ${numero}`);\n      }\n      // Em verbose n√£o usamos moldura de bloco para permitir rolagem limpa\n      for (const l of linhasDetalhe) logInfoRaw(l);\n      log.info('');\n    }\n  } else {\n    log.sucesso(RelatorioMensagens.saude.secoes.funcoesLongas.vazio);\n  }\n  if (constExcessivas.length > 0) {\n    log.info(RelatorioMensagens.saude.secoes.constantesDuplicadas.titulo);\n    for (const [nome, qtd] of constExcessivas) {\n      log.info(`  - ${nome}: ${qtd} vez(es)`);\n    }\n    log.info('');\n  }\n  if (requireRepetidos.length > 0) {\n    log.info(RelatorioMensagens.saude.secoes.modulosRequire.titulo);\n    for (const [nome, qtd] of requireRepetidos) {\n      log.info(`  - ${nome}: ${qtd} vez(es)`);\n    }\n    log.info('');\n  }\n\n  // Rodap√© usando mensagens centralizadas\n  log.sucesso(RelatorioMensagens.saude.secoes.fim.titulo);\n  // Moldura de rodap√© (somente em runtime humano)\n  if (!process.env.VITEST) {\n    const tituloFim = RelatorioMensagens.saude.secoes.fim.titulo;\n    const linhasFim: string[] = ['Mandou bem!'];\n    const larguraFim = (log as unknown as {\n      calcularLargura?: Function;\n    }).calcularLargura ? (log as unknown as {\n      calcularLargura: Function;\n    }).calcularLargura(tituloFim, linhasFim, config.COMPACT_MODE ? 84 : 96) : undefined;\n    (log as unknown as {\n      imprimirBloco: Function;\n    }).imprimirBloco(tituloFim, linhasFim, chalk.green.bold, typeof larguraFim === 'number' ? larguraFim : config.COMPACT_MODE ? 84 : 96);\n  }\n}"]}