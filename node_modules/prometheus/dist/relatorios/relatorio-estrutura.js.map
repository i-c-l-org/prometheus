{"version":3,"file":"relatorio-estrutura.js","sourceRoot":"","sources":["../../src/relatorios/relatorio-estrutura.ts"],"names":[],"mappings":"AAMA,MAAM,UAAU,uBAAuB,CACrC,IAAkC;IAElC,MAAM,YAAY,GAAG,IAAI,CAAC,MAAM,CAC9B,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAClD,CAAC;IACF,IAAI,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QAC9B,OAAO;YACL,2BAA2B;YAC3B,EAAE;YACF,kCAAkC;YAClC,EAAE;SACH,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAChB,CAAC;IAED,OAAO;QACL,+BAA+B;QAC/B,EAAE;QACF,wBAAwB,YAAY,CAAC,MAAM,yCAAyC;QACpF,GAAG,YAAY,CAAC,GAAG,CACjB,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,CAC5B,OAAO,OAAO,gBAAgB,KAAK,0BAA0B,KAAK,IAAI,CACzE;QACD,EAAE;KACH,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAChB,CAAC","sourcesContent":["// SPDX-License-Identifier: MIT\nimport type { AlinhamentoItemDiagnostico } from '@';\n\n// Re-exporta para compatibilidade com nome original\nexport type AlinhamentoItem = AlinhamentoItemDiagnostico;\n\nexport function gerarRelatorioEstrutura(\n  mapa: AlinhamentoItemDiagnostico[],\n): string {\n  const desalinhados = mapa.filter(\n    (item) => item.ideal && item.atual !== item.ideal,\n  );\n  if (desalinhados.length === 0) {\n    return [\n      '# ?? Estrutura verificada',\n      '',\n      '? Tudo está em sua camada ideal.',\n      '',\n    ].join('\\\\n');\n  }\n\n  return [\n    '# ?? Diagnóstico de Estrutura',\n    '',\n    `?? Foram encontrados ${desalinhados.length} arquivo(s) fora da camada esperada:\\\\n`,\n    ...desalinhados.map(\n      ({ arquivo, atual, ideal }) =>\n        `- \\`${arquivo}\\` está em \\`${atual}\\`, deveria estar em \\`${ideal}\\``,\n    ),\n    '',\n  ].join('\\\\n');\n}\n"]}