{"version":3,"file":"json-mode.js","sourceRoot":"","sources":["../../../src/shared/helpers/json-mode.ts"],"names":[],"mappings":"AAWA,IAAI,cAAc,GAAG,KAAK,CAAC;AAK3B,MAAM,UAAU,cAAc;IAC5B,cAAc,GAAG,IAAI,CAAC;AACxB,CAAC;AAKD,MAAM,UAAU,iBAAiB;IAC/B,cAAc,GAAG,KAAK,CAAC;AACzB,CAAC;AAKD,MAAM,UAAU,UAAU;IACxB,OAAO,cAAc,CAAC;AACxB,CAAC;AAKD,MAAM,UAAU,aAAa;IAC3B,cAAc,GAAG,KAAK,CAAC;AACzB,CAAC","sourcesContent":["// SPDX-License-Identifier: MIT-0\n\n/**\n * Controle global do modo JSON para suprimir logs visuais.\n *\n * Quando --json está ativo, devemos produzir APENAS JSON puro no stdout,\n * sem logs INFO, SUCESSO, spinners, cores, ou qualquer outra saída visual.\n *\n * Isso é crítico para integração com CI/CD e ferramentas que parsam o JSON.\n */\n\nlet _jsonModeAtivo = false;\n\n/**\n * Ativa o modo JSON (suprime todos os logs visuais)\n */\nexport function ativarModoJson(): void {\n  _jsonModeAtivo = true;\n}\n\n/**\n * Desativa o modo JSON (restaura logs visuais)\n */\nexport function desativarModoJson(): void {\n  _jsonModeAtivo = false;\n}\n\n/**\n * Verifica se o modo JSON está ativo\n */\nexport function isJsonMode(): boolean {\n  return _jsonModeAtivo;\n}\n\n/**\n * Reseta o estado (útil para testes)\n */\nexport function resetJsonMode(): void {\n  _jsonModeAtivo = false;\n}\n"]}