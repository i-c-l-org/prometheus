{"version":3,"file":"async-analysis.js","sourceRoot":"","sources":["../../../src/types/relatorios/async-analysis.ts"],"names":[],"mappings":"","sourcesContent":["// SPDX-License-Identifier: MIT\n/**\n * @fileoverview Tipos para análise de padrões async/await\n *\n * Define estruturas para análise pós-diagnóstico de promises não tratadas,\n * agrupamento por criticidade e geração de relatórios de ação.\n */\n\n/**\n * Nível de criticidade de uma promise não tratada\n */\nexport type AsyncCriticidade = 'critico' | 'alto' | 'medio' | 'baixo';\n\n/**\n * Informações sobre promises não tratadas em um arquivo\n */\nexport interface AsyncIssuesArquivo {\n  /** Ocorrências individuais detectadas */\n  ocorrencias: Array<{\n    linha?: number;\n    mensagem: string;\n    nivel: 'erro' | 'aviso' | 'info';\n  }>;\n  /** Nível de severidade mais alto encontrado */\n  nivel: 'erro' | 'aviso' | 'info';\n  /** Total de promises não tratadas (incluindo agregadas) */\n  total: number;\n  /** Criticidade calculada baseada em contexto */\n  criticidade?: AsyncCriticidade;\n}\n\n/**\n * Categoria de código para agrupamento\n */\nexport type AsyncCategoria = 'cli' | 'analistas' | 'core' | 'guardian' | 'auto' | 'outros';\n\n/**\n * Estatísticas de uma categoria\n */\nexport interface AsyncCategoriaStats {\n  /** Total de arquivos com issues */\n  totalArquivos: number;\n  /** Total de promises não tratadas */\n  totalPromises: number;\n}\n\n/**\n * Arquivo ranqueado por criticidade\n */\nexport interface AsyncArquivoRanqueado {\n  /** Caminho relativo do arquivo */\n  arquivo: string;\n  /** Total de promises não tratadas */\n  total: number;\n  /** Nível de severidade */\n  nivel: 'erro' | 'aviso' | 'info';\n  /** Criticidade calculada */\n  criticidade?: AsyncCriticidade;\n}\n\n/**\n * Relatório completo de análise async\n */\nexport interface AsyncAnalysisReport {\n  /** Timestamp da análise */\n  timestamp: string;\n  /** Total de issues encontradas */\n  totalIssues: number;\n  /** Total de arquivos afetados */\n  totalFiles: number;\n  /** Top arquivos mais problemáticos */\n  topArquivos: AsyncArquivoRanqueado[];\n  /** Estatísticas por categoria */\n  categorias: Record<AsyncCategoria, AsyncCategoriaStats>;\n  /** Recomendações priorizadas */\n  recomendacoes?: {\n    criticos: string[];\n    altos: string[];\n    proximosPassos: string[];\n  };\n}\n\n/**\n * Opções para análise async\n */\nexport interface AsyncAnalysisOptions {\n  /** Número máximo de arquivos no top */\n  topN?: number;\n  /** Incluir recomendações detalhadas */\n  includeRecomendacoes?: boolean;\n  /** Filtrar por criticidade mínima */\n  minCriticidade?: AsyncCriticidade;\n}"]}