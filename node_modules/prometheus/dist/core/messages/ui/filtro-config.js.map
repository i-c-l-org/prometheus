{"version":3,"file":"filtro-config.js","sourceRoot":"","sources":["../../../../src/core/messages/ui/filtro-config.ts"],"names":[],"mappings":"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","sourcesContent":["// SPDX-License-Identifier: MIT\n/**\n * Configurações centralizadas para o filtro inteligente de relatórios\n * Define prioridades, agrupamentos e categorização de problemas\n */\n\nimport type { AgrupamentoConfig, ConfigPrioridade, PrioridadeNivel } from '@';\n\nimport {\n  ICONES_ARQUIVO,\n  ICONES_DIAGNOSTICO,\n  ICONES_FEEDBACK,\n} from './icons.js';\n\n// Re-exporta os tipos para compatibilidade\nexport type { AgrupamentoConfig, ConfigPrioridade, PrioridadeNivel };\n\n  /* -------------------------- PRIORIDADES POR TIPO DE PROBLEMA -------------------------- */\n\nexport const PRIORIDADES: Record<string, ConfigPrioridade> = {\n  // Críticos - Segurança e dados\n  PROBLEMA_SEGURANCA: {\n    prioridade: 'critica',\n    icone: '[LOCK]',\n    descricao: 'Vulnerabilidade de segurança detectada',\n  },\n  VULNERABILIDADE_SEGURANCA: {\n    prioridade: 'critica',\n    icone: '[ERRO]',\n    descricao: 'Falha de segurança grave',\n  },\n  CREDENCIAIS_EXPOSTAS: {\n    prioridade: 'critica',\n    icone: '[LOCK]',\n    descricao: 'Credenciais hardcoded ou expostas',\n  },\n\n  // Altos - Código frágil e bugs\n  CODIGO_FRAGIL: {\n    prioridade: 'alta',\n    icone: '[AVISO]',\n    descricao: 'Código suscetível a falhas',\n  },\n  'tipo-inseguro-any': {\n    prioridade: 'alta',\n    icone: '[HIGH]',\n    descricao: 'Uso de tipo any que pode ser substituído',\n  },\n  'tipo-inseguro-unknown': {\n    prioridade: 'media',\n    icone: '[WARN]',\n    descricao: 'Uso de tipo unknown que pode ser específico',\n  },\n  PROBLEMA_TESTE: {\n    prioridade: 'alta',\n    icone: '[TEST]',\n    descricao: 'Problemas com testes',\n  },\n  'estrutura-suspeita': {\n    prioridade: 'alta',\n    icone: '[SCAN]',\n    descricao: 'Estrutura de código suspeita',\n  },\n  COMPLEXIDADE_ALTA: {\n    prioridade: 'alta',\n    icone: '[STATS]',\n    descricao: 'Complexidade ciclomática alta',\n  },\n\n  // Médios - Manutenibilidade e padrões\n  PROBLEMA_DOCUMENTACAO: {\n    prioridade: 'media',\n    icone: '[DOC]',\n    descricao: 'Documentação ausente ou inadequada',\n  },\n  'padrao-ausente': {\n    prioridade: 'media',\n    icone: '[GOAL]',\n    descricao: 'Padrão recomendado ausente',\n  },\n  'estrutura-config': {\n    prioridade: 'media',\n    icone: '[CONFIG]',\n    descricao: 'Problemas de configuração',\n  },\n  'estrutura-entrypoints': {\n    prioridade: 'media',\n    icone: '[ENTRY]',\n    descricao: 'Entrypoints mal definidos',\n  },\n  ANALISE_ARQUITETURA: {\n    prioridade: 'media',\n    icone: '[BUILD]',\n    descricao: 'Análise arquitetural',\n  },\n\n  // Baixos - Informativo e melhorias\n  CONSTRUCOES_SINTATICAS: {\n    prioridade: 'baixa',\n    icone: '[SYNTAX]',\n    descricao: 'Padrões sintáticos detectados',\n  },\n  CARACTERISTICAS_ARQUITETURA: {\n    prioridade: 'baixa',\n    icone: '[ARCH]',\n    descricao: 'Características arquiteturais',\n  },\n  METRICAS_ARQUITETURA: {\n    prioridade: 'baixa',\n    icone: '[SIZE]',\n    descricao: 'Métricas arquiteturais',\n  },\n  TODO_PENDENTE: {\n    prioridade: 'baixa',\n    icone: ICONES_FEEDBACK.dica,\n    descricao: 'TODOs e tarefas pendentes',\n  },\n  IDENTIFICACAO_PROJETO: {\n    prioridade: 'baixa',\n    icone: '[TAG]',\n    descricao: 'Identificação do tipo de projeto',\n  },\n  SUGESTAO_MELHORIA: {\n    prioridade: 'baixa',\n    icone: '[DICA]',\n    descricao: 'Sugestão de melhoria',\n  },\n  EVIDENCIA_CONTEXTO: {\n    prioridade: 'baixa',\n    icone: '[SCAN]',\n    descricao: 'Evidência de contexto',\n  },\n  TECNOLOGIAS_ALTERNATIVAS: {\n    prioridade: 'baixa',\n    icone: '[ALT]',\n    descricao: 'Tecnologias alternativas sugeridas',\n  },\n};\n\n  /* -------------------------- AGRUPAMENTOS INTELIGENTES POR PADRÃO DE MENSAGEM -------------------------- */\n\nexport const AGRUPAMENTOS_MENSAGEM: AgrupamentoConfig[] = [\n  // Segurança Crítica\n  {\n    padrao:\n      /token hardcoded|senha hardcoded|chave hardcoded|api.*key.*hardcoded/i,\n    categoria: 'SEGURANCA_HARDCODED',\n    titulo: 'Credenciais Hardcoded Detectadas',\n    prioridade: 'critica',\n    icone: ICONES_ARQUIVO.lock,\n    acaoSugerida: 'Mover credenciais para variáveis de ambiente (.env)',\n  },\n  {\n    padrao: /sql.*injection|xss|csrf|path.*traversal|command.*injection/i,\n    categoria: 'VULNERABILIDADES_WEB',\n    titulo: 'Vulnerabilidades Web Detectadas',\n    prioridade: 'critica',\n    icone: '[ERRO]',\n    acaoSugerida: 'Aplicar sanitização e validação de entrada',\n  },\n\n  // Código Frágil (Alta)\n  {\n    padrao: /tipo.*inseguro.*any|any.*inseguro|unsafe.*any/i,\n    categoria: 'TIPOS_ANY_INSEGUROS',\n    titulo: 'Tipos Any Inseguros Detectados',\n    prioridade: 'alta',\n    icone: '[HIGH]',\n    acaoSugerida:\n      'Substituir any por tipos específicos para melhorar type safety',\n  },\n  {\n    padrao: /tipo.*inseguro.*unknown|unknown.*inseguro|unsafe.*unknown/i,\n    categoria: 'TIPOS_UNKNOWN_GENERICOS',\n    titulo: 'Tipos Unknown Genéricos',\n    prioridade: 'media',\n    icone: '[WARN]',\n    acaoSugerida: 'Adicionar type guards ou substituir por tipos específicos',\n  },\n  {\n    padrao: /missing-tests|missing tests|sem testes|no.*tests/i,\n    categoria: 'TESTES_AUSENTES',\n    titulo: 'Arquivos Sem Testes',\n    prioridade: 'alta',\n    icone: '[TEST]',\n    acaoSugerida: 'Implementar testes unitários para melhorar cobertura',\n  },\n  {\n    padrao: /complexidade.*alta|complex.*high|cyclomatic.*complexity/i,\n    categoria: 'COMPLEXIDADE_ALTA',\n    titulo: 'Código com Alta Complexidade',\n    prioridade: 'alta',\n    icone: '[STATS]',\n    acaoSugerida: 'Refatorar em funções menores para melhorar legibilidade',\n  },\n  {\n    padrao: /acoplamento.*alto|coupling.*high|tight.*coupling/i,\n    categoria: 'ACOPLAMENTO_ALTO',\n    titulo: 'Alto Acoplamento Entre Módulos',\n    prioridade: 'alta',\n    icone: '[LINK]',\n    acaoSugerida: 'Revisar dependências e aplicar padrões de desacoplamento',\n  },\n\n  // Manutenibilidade (Média)\n  {\n    padrao:\n      /missing-jsdoc|missing documentation|sem documentação|no.*documentation/i,\n    categoria: 'DOCUMENTACAO_AUSENTE',\n    titulo: 'Documentação Ausente',\n    prioridade: 'media',\n    icone: '[DOC]',\n    acaoSugerida: 'Adicionar JSDoc/comentários para melhorar manutenibilidade',\n  },\n  {\n    padrao: /console\\.log|console-log|debug.*statement/i,\n    categoria: 'CONSOLE_LOGS',\n    titulo: 'Console.log em Código de Produção',\n    prioridade: 'media',\n    icone: '[LOG]',\n    acaoSugerida: 'Remover ou substituir por sistema de logging adequado',\n  },\n  {\n    padrao: /código.*duplicado|duplicate.*code|copy.*paste/i,\n    categoria: 'DUPLICACAO_CODIGO',\n    titulo: 'Código Duplicado Detectado',\n    prioridade: 'media',\n    icone: '[COPY]',\n    acaoSugerida: 'Extrair para funções/módulos reutilizáveis',\n  },\n  {\n    padrao: /função.*longa|long.*function|function.*too.*large/i,\n    categoria: 'FUNCOES_LONGAS',\n    titulo: 'Funções Muito Longas',\n    prioridade: 'media',\n    icone: '[SIZE]',\n    acaoSugerida: 'Dividir em funções menores e mais coesas',\n  },\n\n  // Baixa prioridade\n  {\n    padrao: /todo|fixme|hack|workaround/i,\n    categoria: 'TAREFAS_PENDENTES',\n    titulo: 'Tarefas Pendentes no Código',\n    prioridade: 'baixa',\n    icone: ICONES_FEEDBACK.dica,\n    acaoSugerida: 'Revisar e resolver TODOs/FIXMEs pendentes',\n  },\n  {\n    padrao: /magic.*number|número.*mágico/i,\n    categoria: 'NUMEROS_MAGICOS',\n    titulo: 'Números Mágicos no Código',\n    prioridade: 'baixa',\n    icone: ICONES_DIAGNOSTICO.stats,\n    acaoSugerida: 'Substituir por constantes nomeadas',\n  },\n];\n\n  /* -------------------------- HELPERS -------------------------- */\n\n/**\n * Obtém a prioridade de um tipo de problema\n */\nexport function getPrioridade(tipo: string): ConfigPrioridade {\n  return (\n    PRIORIDADES[tipo] || {\n      prioridade: 'baixa',\n      icone: ICONES_ARQUIVO.arquivo,\n      descricao: 'Problema não categorizado',\n    }\n  );\n}\n\n/**\n * Encontra agrupamento por mensagem\n */\nexport function findAgrupamento(mensagem: string): AgrupamentoConfig | null {\n  for (const grupo of AGRUPAMENTOS_MENSAGEM) {\n    if (grupo.padrao.test(mensagem)) {\n      return grupo;\n    }\n  }\n  return null;\n}\n\n/**\n * Ordena problemas por prioridade\n */\nexport function ordenarPorPrioridade<\n  T extends { prioridade?: PrioridadeNivel },\n>(problemas: T[]): T[] {\n  const ordem: Record<PrioridadeNivel, number> = {\n    critica: 0,\n    alta: 1,\n    media: 2,\n    baixa: 3,\n  };\n\n  return [...problemas].sort((a, b) => {\n    const prioA = a.prioridade || 'baixa';\n    const prioB = b.prioridade || 'baixa';\n    return ordem[prioA] - ordem[prioB];\n  });\n}\n\n/**\n * Conta problemas por prioridade\n */\nexport function contarPorPrioridade<T extends { prioridade?: PrioridadeNivel }>(\n  problemas: T[],\n): Record<PrioridadeNivel, number> {\n  const contagem: Record<PrioridadeNivel, number> = {\n    critica: 0,\n    alta: 0,\n    media: 0,\n    baixa: 0,\n  };\n\n  for (const prob of problemas) {\n    const prio = prob.prioridade || 'baixa';\n    contagem[prio]++;\n  }\n\n  return contagem;\n}\n"]}