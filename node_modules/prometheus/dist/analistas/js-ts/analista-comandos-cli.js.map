{"version":3,"file":"analista-comandos-cli.js","sourceRoot":"","sources":["../../../src/analistas/js-ts/analista-comandos-cli.ts"],"names":[],"mappings":"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","sourcesContent":["// SPDX-License-Identifier: MIT-0\n// @prometheus-disable tipo-inseguro-unknown\n// @prometheus-disable PROBLEMA_PERFORMANCE\n// Justificativa: unknown é usado para manipulação segura de nós AST com tipagem defensiva\nimport type { NodePath } from '@babel/traverse';\nimport type { ArrowFunctionExpression, BlockStatement, CallExpression, ClassDeclaration, ClassMethod, FunctionDeclaration, FunctionExpression, Identifier, ImportDeclaration, MemberExpression, NewExpression, Node, StringLiteral, VariableDeclaration, VariableDeclarator } from '@babel/types';\nimport * as t from '@babel/types';\nimport { traverse } from '@core/config/traverse.js';\nimport { ComandosCliMensagens } from '@core/messages/analistas/analista-comandos-cli-messages.js';\nimport { detectarContextoProjeto, isRelevanteParaAnalise } from '@shared/contexto-projeto.js';\n\nimport type { ComandoRegistro, ContextoExecucao, HandlerInfo, Ocorrencia, TecnicaAplicarResultado } from '@';\nimport { isBabelNode } from '@';\n\ntype BabelNode = Node;\nexport function extractHandlerInfo(node: Node | unknown): HandlerInfo | null {\n  if (!node || !isBabelNode(node)) return null;\n  const n = node as Node;\n  if (t.isFunctionDeclaration(n) && n.body && t.isBlockStatement(n.body)) {\n    const rawParams = Array.isArray(n.params) ? n.params : [];\n    const params: t.Identifier[] = rawParams.filter((p): p is t.Identifier => t.isIdentifier(p as t.Node));\n    return {\n      func: n,\n      bodyBlock: n.body as BlockStatement,\n      isAnonymous: !n.id,\n      params,\n      totalParams: rawParams.length\n    };\n  }\n  if ((t.isFunctionExpression(n) || t.isArrowFunctionExpression(n)) && n.body && t.isBlockStatement(n.body)) {\n    const rawParams = Array.isArray(n.params) ? n.params : [];\n    const params: t.Identifier[] = rawParams.filter((p): p is t.Identifier => t.isIdentifier(p as t.Node));\n    const isAnonymous = t.isFunctionExpression(n) ? !n.id : true;\n    return {\n      func: n,\n      bodyBlock: n.body as BlockStatement,\n      isAnonymous,\n      params,\n      totalParams: rawParams.length\n    };\n  }\n  return null;\n}\nexport const analistaComandosCli = {\n  nome: 'analista-comandos-cli',\n  test: (relPath: string): boolean => {\n    const p = relPath.replace(/\\\\/g, '/').toLowerCase();\n    if (/(^|\\/)tests?(\\/)/i.test(p) || /\\.(test|spec)\\.(ts|js|tsx|jsx)$/i.test(p)) return false;\n    return /(\\.ts|\\.tsx|\\.js|\\.jsx)$/.test(p);\n  },\n  aplicar(conteudo: string, arquivo: string, ast: NodePath | null, _fullPath?: string, _contexto?: ContextoExecucao): TecnicaAplicarResultado {\n    const ocorrencias: Ocorrencia[] = [];\n    const contextoProjeto = detectarContextoProjeto({\n      arquivo,\n      conteudo,\n      relPath: arquivo\n    });\n    if (!isRelevanteParaAnalise(contextoProjeto, 'comando')) return [];\n    const comandos: ComandoRegistro[] = [];\n    const comandoNomes: string[] = [];\n    let comandosInvocados = 0;\n    let hasFrameworkSignal = false;\n    const commandClassNomes = new Set<string>(['Command']);\n    if (!ast) return [];\n    function registrar(node: Node | undefined, comandoNome: string, handler: Node | undefined, origemFramework: string) {\n      comandosInvocados++;\n      if (comandoNome) comandoNomes.push(comandoNome);\n      const userInfo = extractHandlerInfo(handler as Node | undefined);\n      const registro: ComandoRegistro = {\n        comandoNome,\n        id: undefined,\n        timestamp: new Date().toISOString(),\n        origemFramework\n      };\n      // normalize into minimal shape expected by downstream checks\n      registro.handler = userInfo ? {\n        ...userInfo\n      } as HandlerInfo : undefined;\n      registro.node = node as Node | undefined;\n      comandos.push(registro);\n    }\n    function extrairNomeDeCadeia(call: t.CallExpression): string {\n      let current: t.Node | null = call as t.Node;\n      const visitados = new Set<t.Node>();\n      while (current && !visitados.has(current)) {\n        visitados.add(current);\n        if (t.isCallExpression(current) && t.isMemberExpression(current.callee)) {\n          const callee = current.callee;\n          const prop = callee.property;\n          if (t.isIdentifier(prop) && prop.name === 'command') {\n            const arg0 = current.arguments && current.arguments[0];\n            if (arg0 && t.isStringLiteral(arg0)) return arg0.value;\n          }\n          const owner = callee.object;\n          if (t.isCallExpression(owner)) {\n            current = owner as t.Node;\n            continue;\n          } else if (t.isMemberExpression(owner)) {\n            current = owner.object as t.Node;\n            continue;\n          } else {\n            break;\n          }\n        } else if (t.isMemberExpression(current)) {\n          current = current.object as t.Node;\n          continue;\n        }\n        break;\n      }\n      return '';\n    }\n    traverse(ast.node, {\n      enter(path: NodePath<t.Node>) {\n        const nodeAtual = path.node as BabelNode;\n        if (t.isNewExpression(nodeAtual)) {\n          const newExpr = nodeAtual as NewExpression;\n          if (t.isIdentifier(newExpr.callee) && newExpr.callee.name === 'Command') {\n            hasFrameworkSignal = true;\n            let nome = '';\n            const arg0 = newExpr.arguments && newExpr.arguments[0];\n            if (arg0 && t.isStringLiteral(arg0)) nome = (arg0 as StringLiteral).value;\n            if (comandosInvocados === 0) {\n              comandosInvocados++;\n              if (nome) comandoNomes.push(nome);\n            }\n          }\n        }\n        if (t.isCallExpression(nodeAtual)) {\n          const call = nodeAtual as t.CallExpression;\n          const callee = call.callee as CallExpression['callee'];\n          if (t.isMemberExpression(callee)) {\n            const prop = (callee as MemberExpression).property as Identifier | t.Expression;\n            if (t.isIdentifier(prop)) {\n              if (['addSlashCommand', 'setName', 'setDescription', 'addStringOption', 'addUserOption', 'addChannelOption'].includes(prop.name)) {\n                hasFrameworkSignal = true;\n                if (comandosInvocados === 0) {\n                  comandosInvocados++;\n                  const arg0 = call.arguments && call.arguments[0];\n                  const nome = prop.name === 'setName' && arg0 && t.isStringLiteral(arg0) ? (arg0 as StringLiteral).value : 'slash-command';\n                  comandoNomes.push(nome);\n                }\n              }\n              if (['isCommand', 'isChatInputCommand', 'isAutocomplete'].includes(prop.name)) {\n                hasFrameworkSignal = true;\n                if (comandosInvocados === 0) comandosInvocados++;\n              }\n            }\n          }\n        }\n        if (t.isMemberExpression(nodeAtual)) {\n          const member = nodeAtual as MemberExpression;\n          const prop = member.property as Identifier | t.Expression;\n          if (t.isIdentifier(prop) && ['commandName', 'options', 'isCommand', 'reply', 'editReply', 'deferReply'].includes(prop.name)) {\n            hasFrameworkSignal = true;\n            if (comandosInvocados === 0) comandosInvocados++;\n          }\n        }\n        if (t.isCallExpression(nodeAtual)) {\n          const call = nodeAtual as t.CallExpression;\n          const callee = call.callee as CallExpression['callee'];\n          if (t.isMemberExpression(callee)) {\n            const propId = (callee as MemberExpression).property as Identifier | t.Expression;\n            if (t.isIdentifier(propId) && ['option', 'description', 'alias', 'argument', 'usage', 'help'].includes(propId.name)) {\n              hasFrameworkSignal = true;\n            }\n          }\n        }\n        if (t.isCallExpression(nodeAtual)) {\n          const call = nodeAtual as CallExpression;\n          const callee = call.callee;\n          if (t.isIdentifier(callee) && ['onCommand', 'registerCommand'].includes(callee.name)) {\n            let comandoNome = '';\n            const primeiroArg = call.arguments && call.arguments[0];\n            if (primeiroArg && t.isStringLiteral(primeiroArg)) comandoNome = (primeiroArg as StringLiteral).value;\n            const handler = call.arguments && call.arguments.length > 1 ? call.arguments[1] : undefined;\n            registrar(call, comandoNome, handler as Node | undefined, 'generico');\n            return;\n          }\n        }\n        if (t.isCallExpression(nodeAtual)) {\n          const call = nodeAtual as CallExpression;\n          const callee = call.callee as CallExpression['callee'];\n          if (t.isMemberExpression(callee)) {\n            const prop = (callee as MemberExpression).property as Identifier | t.Expression;\n            if (t.isIdentifier(prop)) {\n              if (prop.name === 'action') {\n                const handler = call.arguments && call.arguments[0] as Node | undefined;\n                const nome = extrairNomeDeCadeia(call);\n                registrar(call, nome, handler, 'commander');\n                return;\n              }\n              if (prop.name === 'command') {\n                const args = call.arguments || [];\n                const nameArg = args[0];\n                let nome = '';\n                if (nameArg && t.isStringLiteral(nameArg)) nome = (nameArg as StringLiteral).value;\n                let handler: Node | undefined;\n                for (let i = args.length - 1; i >= 0; i--) {\n                  const a = args[i] as Node;\n                  if (t.isFunctionExpression(a) || t.isArrowFunctionExpression(a)) {\n                    handler = a as Node;\n                    break;\n                  }\n                }\n                registrar(call, nome, handler, 'multi');\n                return;\n              }\n            }\n          }\n        }\n        if (t.isCallExpression(nodeAtual)) {\n          const call = nodeAtual as CallExpression;\n          const callee = call.callee as CallExpression['callee'];\n          if (t.isMemberExpression(callee)) {\n            const configObject = (callee as MemberExpression).object;\n            const prop = (callee as MemberExpression).property as Identifier | t.Expression;\n            if (t.isIdentifier(prop) && prop.name === 'command' && t.isIdentifier(configObject) && /yargs?/i.test(configObject.name)) {\n              const args = call.arguments || [];\n              let nome = '';\n              if (args[0] && t.isStringLiteral(args[0])) nome = (args[0] as StringLiteral).value;\n              const handlerCandidates = args.filter((a: unknown) => t.isFunctionExpression(a as Node) || t.isArrowFunctionExpression(a as Node));\n              const handler = handlerCandidates.at(-1) as Node | undefined;\n              registrar(call, nome, handler, 'yargs');\n              return;\n            }\n          }\n        }\n        if (t.isClassDeclaration(nodeAtual)) {\n          const cls = nodeAtual as ClassDeclaration;\n          if (cls.superClass && t.isIdentifier(cls.superClass) && cls.superClass.name === 'Command') {\n            const classNome = cls.id?.name || '';\n            const bodyArray = (cls.body as {\n              body?: unknown;\n            }).body;\n            const isRunMethod = (m: unknown): m is ClassMethod => {\n              if (!t.isClassMethod(m as Node)) return false;\n              const km = (m as ClassMethod).key;\n              return t.isIdentifier(km) && km.name === 'run';\n            };\n            const bodyElem = Array.isArray(bodyArray) ? bodyArray.find(isRunMethod) as ClassMethod | undefined : undefined;\n            if (bodyElem && t.isBlockStatement((bodyElem as unknown as {\n              body?: unknown;\n            }).body as t.Node)) {\n              registrar(t.callExpression(t.identifier('oclifRun'), []), classNome, bodyElem as Node, 'oclif');\n              return;\n            }\n          }\n        }\n        if (t.isImportDeclaration(nodeAtual)) {\n          const imp = nodeAtual as ImportDeclaration;\n          if (typeof imp.source.value === 'string' && /commander/.test(imp.source.value)) {\n            for (const spec of imp.specifiers) {\n              if (t.isImportSpecifier(spec) && t.isIdentifier(spec.imported) && spec.imported.name === 'Command') {\n                if (t.isIdentifier(spec.local)) commandClassNomes.add(spec.local.name);\n              }\n            }\n          }\n        }\n        if (t.isFunctionDeclaration(nodeAtual) || t.isFunctionExpression(nodeAtual) || t.isArrowFunctionExpression(nodeAtual)) {\n          const fn = nodeAtual as FunctionDeclaration | FunctionExpression | ArrowFunctionExpression;\n          const body = (fn as unknown as {\n            body?: unknown;\n          }).body as BlockStatement | undefined;\n          if (body && t.isBlockStatement(body)) {\n            const createdVars = new Set<string>();\n            for (const stmt of body.body || []) {\n              if (t.isVariableDeclaration(stmt)) {\n                const varDecl = stmt as VariableDeclaration;\n                for (const d of varDecl.declarations) {\n                  const decl = d as VariableDeclarator;\n                  if (decl.id && t.isIdentifier(decl.id) && decl.init && t.isNewExpression(decl.init) && t.isIdentifier(decl.init.callee) && commandClassNomes.has(decl.init.callee.name)) {\n                    createdVars.add(decl.id.name);\n                  }\n                }\n              }\n              if (t.isExpressionStatement(stmt)) {\n                const exprStmt = stmt as import('@babel/types').ExpressionStatement;\n                if (t.isCallExpression(exprStmt.expression) && t.isMemberExpression(exprStmt.expression.callee)) {\n                  const callee = exprStmt.expression.callee as MemberExpression;\n                  const configObject = callee.object;\n                  if (t.isIdentifier(configObject) && createdVars.has(configObject.name)) {\n                    hasFrameworkSignal = true;\n                  }\n                }\n              }\n            }\n            for (const stmt of body.body || []) {\n              if (t.isReturnStatement(stmt) && stmt.argument && t.isIdentifier(stmt.argument) && createdVars.has(stmt.argument.name)) {\n                hasFrameworkSignal = true;\n                if (comandosInvocados === 0) {\n                  comandosInvocados++;\n                }\n              }\n            }\n          }\n        }\n      }\n    });\n    if (comandosInvocados === 0 && !hasFrameworkSignal) {\n      if ((contextoProjeto.isBot || contextoProjeto.isCLI) && !contextoProjeto.isInfrastructure) {\n        ocorrencias.push({\n          tipo: 'padrao-ausente',\n          nivel: 'info',\n          mensagem: ComandosCliMensagens.padraoAusente,\n          relPath: arquivo,\n          origem: 'analista-comandos-cli'\n        });\n      }\n    }\n    const duplicados = comandoNomes.filter((item, idx) => item && comandoNomes.indexOf(item) !== idx);\n    if (duplicados.length > 0) {\n      ocorrencias.push({\n        tipo: 'padrao-problematico',\n        nivel: 'aviso',\n        mensagem: ComandosCliMensagens.comandosDuplicados(duplicados),\n        relPath: arquivo,\n        origem: 'analista-comandos-cli'\n      });\n    }\n    for (const cmd of comandos) {\n      const {\n        comandoNome,\n        node\n      } = cmd;\n      const handlerInfo = cmd.handler;\n      let linha = 1;\n      function getNumberProp(obj: unknown, prop: string): number | undefined {\n        if (typeof obj !== 'object' || obj === null) return undefined;\n        const o = obj as Record<string, unknown>;\n        const v = o[prop];\n        return typeof v === 'number' ? v : undefined;\n      }\n      function extractLineFromNode(obj: unknown): number | undefined {\n        if (typeof obj !== 'object' || obj === null) return undefined;\n        const o = obj as Record<string, unknown>;\n        const loc = o.loc;\n        if (typeof loc !== 'object' || loc === null) return undefined;\n        const start = (loc as Record<string, unknown>).start;\n        if (typeof start !== 'object' || start === null) return undefined;\n        const line = (start as Record<string, unknown>).line;\n        return typeof line === 'number' ? line : undefined;\n      }\n\n      // try handlerInfo first, then node\n      const fromHandler = extractLineFromNode(handlerInfo);\n      const fromNode = extractLineFromNode(node);\n      if (typeof fromHandler === 'number') linha = fromHandler;else if (typeof fromNode === 'number') linha = fromNode;\n      if (!handlerInfo || !handlerInfo.bodyBlock) {\n        continue;\n      }\n      const statements = Array.isArray(handlerInfo.bodyBlock.body) ? handlerInfo.bodyBlock.body : [];\n      if (handlerInfo.isAnonymous && comandoNome) {\n        ocorrencias.push({\n          tipo: 'padrao-problematico',\n          nivel: 'aviso',\n          mensagem: ComandosCliMensagens.handlerAnonimo(comandoNome),\n          relPath: arquivo,\n          linha,\n          origem: 'analista-comandos-cli'\n        });\n      }\n      const paramContagem = handlerInfo.totalParams ?? (Array.isArray(handlerInfo.params) ? handlerInfo.params.length : 0);\n      if (paramContagem > 3) {\n        ocorrencias.push({\n          tipo: 'padrao-problematico',\n          nivel: 'aviso',\n          mensagem: ComandosCliMensagens.handlerMuitosParametros(comandoNome, paramContagem),\n          relPath: arquivo,\n          linha,\n          origem: 'analista-comandos-cli'\n        });\n      }\n      if (statements.length > 30) {\n        ocorrencias.push({\n          tipo: 'padrao-problematico',\n          nivel: 'aviso',\n          mensagem: ComandosCliMensagens.handlerMuitoLongo(comandoNome, statements.length),\n          relPath: arquivo,\n          linha,\n          origem: 'analista-comandos-cli'\n        });\n      }\n      if (statements.length > 0) {\n        const hasTryCatch = statements.some((stmt: unknown) => t.isTryStatement(stmt as t.Node));\n        if (!hasTryCatch) {\n          ocorrencias.push({\n            tipo: 'boa-pratica-ausente',\n            nivel: 'aviso',\n            mensagem: ComandosCliMensagens.handlerSemTryCatch(comandoNome),\n            relPath: arquivo,\n            linha,\n            origem: 'analista-comandos-cli'\n          });\n        }\n        const bodyInicio = getNumberProp((handlerInfo as unknown as Record<string, unknown>).bodyBlock, 'start');\n        const bodyFim = getNumberProp((handlerInfo as unknown as Record<string, unknown>).bodyBlock, 'end');\n        const bodySlice = typeof bodyInicio === 'number' && typeof bodyFim === 'number' ? conteudo.substring(bodyInicio, bodyFim) : '';\n        const bodySrc = bodySlice && bodySlice.length > 5 ? bodySlice : conteudo;\n        const regexLog = /console\\.(log|warn|error)|logger\\.|ctx\\.(reply|send|res|response)/;\n        if (!regexLog.test(bodySrc)) {\n          if (!regexLog.test(conteudo)) {\n            ocorrencias.push({\n              tipo: 'boa-pratica-ausente',\n              nivel: 'aviso',\n              mensagem: ComandosCliMensagens.handlerSemFeedback(comandoNome),\n              relPath: arquivo,\n              linha,\n              origem: 'analista-comandos-cli'\n            });\n          }\n        }\n      }\n    }\n    if (comandos.length > 1) {\n      ocorrencias.push({\n        tipo: 'padrao-estrutural',\n        nivel: 'info',\n        mensagem: ComandosCliMensagens.multiplosComandos(comandos.length),\n        relPath: arquivo,\n        origem: 'analista-comandos-cli'\n      });\n    }\n    return Array.isArray(ocorrencias) ? ocorrencias : [];\n  }\n};"]}